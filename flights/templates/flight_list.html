<!doctype html>
{% load url_tags %}
<html>
<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</head>
<body>
    <ul>
        {% for flight in flights %}
        <li>{{flight}} {{flight.src_airport.city}}</li>
        {% endfor %}

        {% if flights.has_other_pages %}
        <ul class="pagination pagination-sm justify-content-center">
            {% if flights.has_previous %}
            <li class="page-item"><a class="page-link" href="{% url_GET_params page=flights.previous_page_number %}">&laquo;</a></li>
            {% else %}
            <li class="page-item disabled"><a class="page-link" href="#"><span>&laquo;</span></a></li>
            {% endif %}
            {% for i in flights.paginator.page_range %}
            {% if flights.number|add:-3 <= i and i <= flights.number|add:3 %}
                {% if flights.number == i %}
                <li class="page-item active"><a class="page-link" href="#"><span>{{ i }} <span class="sr-only">(current)</span></span></a></li>
                {% else %}
                <li class="page-item"><a class="page-link" href="{% url_GET_params page=i %}">{{ i }}</a></li>
                {% endif %}
            {% endif %}
            {% endfor %}
            {% if flights.has_next %}
            <li class="page-item"><a class="page-link" href="{% url_GET_params page=flights.next_page_number %}">&raquo;</a></li>
            {% else %}
            <li class="page-item disabled"><a class="page-link" href="#"><span>&raquo;</span></a></li>
            {% endif %}
        </ul>
        {{ flights.number }} of {{ flights.paginator.num_pages }}
        {% endif %}
</body>
</html>
